\chapter{Validación, verificación, y evaluación}\label{chap:tests}

Este capítulo verificará que la solución propuesta cumple con todos los
requisitos especificados en el \chapterref{analysis}, y está dividido en dos
secciones. La primera (\sectionref{tests}), contendrá la verificación y
validación de software, mientras que la segunda (\sectionref{evaluation})
contendrá una evaluación del sistema, comparándolo con otras herramientas
existentes.

\section{Verificación y Validación}\label{sec:tests}

En ingeniería de software, la verificación y validación de software es el
proceso de comprobación de que el sistema cumple con los requisitos establecidos
y la función para la que se diseñó \parencite{verification-validation}. La
\figureref{tests} muestra un resumen de este proceso.

\drawiosvgfigure[0.75]{tests}{Resumen de la verificación y validación de software}

Como se explicó en el \chapterref{analysis}, el cliente establece sus
necesidades y lo que espera del producto, definiendo los requisitos de software.
A partir de estos requisitos, el analista se encarga de definir los requisitos
de software.

La verificación de software (\subsectionref{verification}) se encarga de,
durante el desarrollo del sistema, comprobar que los productos de una fase de
desarrollo cumplen con los requisitos establecidos al inicio de la fase; es
decir, comprobar que se está desarrollando el sistema correctamente. Por otro
lado, la validación de software (\subsectionref{validation}) se encarga de, al
final del desarrollo del sistema, comprobar que cumple con los requisitos
establecidos por el cliente; es decir, comprobar que se ha desarrollado el
sistema correcto. \parencite{verification-validation}

\printtesttemplate

\subsection{Verificación}\label{subsec:verification}

Esta sección contiene las pruebas de verificación realizadas. Estas pruebas,
además de verificar que se cumplen los requisitos de software, también verifican
que el resultado del sistema desarrollado es el correcto en todos los casos
probados. Después de realizar estas pruebas, se ha realizado una matriz de
trazabilidad (\tableref{traceability-rs-vet}) para verificar que todos los
requisitos de software están cubiertos por al menos una prueba de verificación.

\begin{testCase}{VET}{ISA}
    {El sistema está instalado.} % Precondición
    {Se obtiene el código compilado correspondiente al programa introducido.} % Postcondición
    {Verificar que el sistema puede compilar \glspl{program} en una \gls{ISA}.} % Descripción
    {OK} % Evaluación
    {FN-compilar-instrucciones, FN-directivas, FN-secciones, FN-ISA,
    FN-num-etiquetas, FN-referencias, NF-ISA, NF-def-instrucciones, NF-sintaxis} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Implementar una \gls{ISA} básica con diferentes \glspl{register},
        \glspl{instruction}, y \glspl{directive}.
        \item Escribir un \gls{program} que utilice todos los \glspl{register},
        \glspl{instruction}, y \glspl{directive} definidas en la \gls{ISA},
        múltiples etiquetas en una misma \gls{instruction} y \gls{data directive},
        y etiquetas definidas después de su uso.
        \item Cargar la \gls{ISA} en el compilador.
        \item Compilar el \gls{program}.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{pseudo}
    {El sistema está instalado.} % Precondición
    {Se obtiene el código compilado con las secuencias de  \glspl{instruction}
    correspondientes a las \glspl{pseudo-instruction} introducidas.} % Postcondición
    {Verificar que el sistema puede compilar \glspl{pseudo-instruction}.} % Descripción
    {OK} % Evaluación
    {FN-compilar-instrucciones, FN-compilar-pseudo} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Implementar una \gls{ISA} básica con diferentes
        \glspl{instruction} y \glspl{pseudo-instruction}.
        \item Escribir un \gls{program} que utilice las \glspl{pseudo-instruction},
        definidas en la \gls{ISA}.
        \item Cargar la \gls{ISA} en el compilador.
        \item Compilar el \gls{program}.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{directivas-datos}
    {El sistema está instalado y se tiene una \gls{ISA} cargada con todos los
    tipos de directivas de datos soportadas.} % Precondición
    {Se obtiene el código compilado con los valores de las \gls{data directive} introducidas.} % Postcondición
    {Verificar que el sistema permite el uso de todas las \glspl{data directive} soportadas.} % Descripción
    {OK} % Evaluación
    {FN-directivas, FN-directivas-datos, FN-strings, FN-tamaño-ints, FN-floats, FN-alineamiento} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Escribir un \gls{program} que utilice todos los tipos de
        \glspl{data directive} soportadas:
        \begin{itemize}
            \item Cadenas de caracteres terminadas y no terminadas en un
            \gls{null byte}.
            \item Números enteros de todos los tamaños soportados.
            \item Números decimales de precisión simple y doble.
            \item Reservar espacio.
            \item Alinear la memoria de datos a una potencia de 2 y a un tamaño en bytes.
        \end{itemize}
        \item Compilar el \gls{program}.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{bibliotecas}
    {El sistema está instalado y se tiene una \gls{ISA} cargada.} % Precondición
    {Se obtiene el código compilado correspondiente al \gls{program} introducido.} % Postcondición
    {Verificar que el sistema permite el uso \glspl{library}.} % Descripción
    {OK} % Evaluación
    {FN-directivas, FN-bibliotecas} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Escribir un \gls{program} que declare algunas de sus etiquetas
        como globales.
        \item Compilar el \gls{program} y guardarlo como una \gls{library}.
        \item Escribir un nuevo \gls{program} que utilice las etiquetas
        declaradas como globales en el programa original.
        \item Compilar el nuevo \gls{program} añadiendo el original como una
        \gls{library}.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{strings}
    {El sistema está instalado y se tiene una \gls{ISA} cargada.} % Precondición
    {Se obtiene el código compilado en la codificación UTF-8 \parencite{UTF-8}
    correspondiente a la cadena de caracteres introducida.} % Postcondición
    {Verificar que el sistema permite el uso de cadenas de caracteres con
    secuencias de escape codificadas en UTF-8 \parencite{UTF-8}.} % Descripción
    {OK} % Evaluación
    {FN-utf8, FN-escape} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Escribir un \gls{program} con una cadena que contenga todas las
        secuencias de escape soportadas y caracteres no ASCII.
        \item Compilar el \gls{program}.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{comentarios}
    {El sistema está instalado y se tiene una \gls{ISA} cargada.} % Precondición
    {Se obtiene el código compilado correspondiente al programa, ignorando los
    comentarios introducidos.} % Postcondición
    {Verificar que el sistema permite el uso comentarios y la selección del
    prefijo de los comentarios de línea.} % Descripción
    {OK} % Evaluación
    {FN-comentarios-tipos, FN-comentarios} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Escribir un \gls{program} con comentarios de línea y multilínea.
        \item Compilar el \gls{program} y verificar que los comentarios son
        ignorados.
        \item Modificar el prefijo de los comentarios de línea en la definición
        de la \gls{ISA}, y cargar la nueva versión.
        \item Modificar el prefijo de los comentarios de línea en el
        \gls{program}.
        \item Compilar el \gls{program}.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{expresiones-int}
    {El sistema está instalado y se tiene una \gls{ISA} cargada.} % Precondición
    {Se obtiene el código compilado con los valores de las \glspl{expression} introducidas.} % Postcondición
    {Verificar que el sistema permite el uso \glspl{expression} de números enteros.} % Descripción
    {OK} % Evaluación
    {FN-constantes, FN-expr-operadores, FN-expr-instruccion, FN-expr-directiva} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Escribir un \gls{program} que utilice \gls{expression} de números
        enteros, caracteres literales, y etiquetas, y todos los operadores
        soportados, como \glspl{immediate} de \glspl{instruction} y valores de
        \gls{data directive} que acepten números enteros como argumentos.
        \item Compilar el \gls{program}.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{mult-defs-instruccion}
    {El sistema está instalado.} % Precondición
    {Se obtiene el código compilado correspondiente a las \glspl{instruction} introducidas.} % Postcondición
    {Verificar que el sistema permite definir múltiples \glspl{instruction} con
    el mismo nombre, y utilizar su sintaxis y el tamaño de sus campos para
    seleccionar la correcta durante la compilación.} % Descripción
    {OK} % Evaluación
    {FN-mult-defs-instruccion} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Implementar una \gls{ISA} con múltiples \glspl{instruction} con el
        mismo nombre pero diferente sintaxis y/o tamaño de sus argumentos.
        \item Escribir un \gls{program} que todas las definiciones de la
        \gls{instruction} creada.
        \item Cargar la \gls{ISA} en el compilador.
        \item Compilar el \gls{program}.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{errores-sintaxis}
    {El sistema está instalado y se tiene una \gls{ISA} cargada.} % Precondición
    {Se obtiene un mensaje de error de sintaxis con toda la información pedida en el \sreqref{FN-errores-base}.} % Postcondición
    {Verificar que el sistema detecta errores de sintaxis y genera buenos mensajes de error.} % Descripción
    {OK} % Evaluación
    {FN-errores-sintaxis, FN-errores-base} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Escribir un \gls{program} con un error de sintaxis.
        \item Compilar el \gls{program}.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{errores-semantica}
    {El sistema está instalado y se tiene una \gls{ISA} cargada.} % Precondición
    {Se obtiene un mensaje de error semántico con toda la información pedida en el \sreqref{FN-errores-base}.} % Postcondición
    {Verificar que el sistema detecta errores semánticos y genera buenos mensajes de error.} % Descripción
    {OK} % Evaluación
    {FN-errores-semantica, FN-errores-base} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Escribir un \gls{program} con un error semántico.
        \item Compilar el \gls{program}.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{bigints}
    {El sistema está instalado.} % Precondición
    {Se obtiene el código compilado con el valor introducido.} % Postcondición
    {Verificar que el sistema detecta errores semánticos y genera buenos mensajes de error.} % Descripción
    {OK} % Evaluación
    {FN-bigints} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Implementar una \gls{ISA} con una \gls{data directive} de
        enteros con un tamaño máximo arbitrariamente grande.
        \item Escribir un \gls{program} que utilice la \gls{data directive} de
        enteros con un número entero cercano al valor máximo definido.
        \item Cargar la \gls{ISA} en el compilador.
        \item Compilar el \gls{program}.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{API}
    {El código del sistema está descargado} % Precondición
    {El sistema utiliza la \gls{API} de entrada y salida en \gls{JS}
    implementada en el \gls{compiler} actual.} % Postcondición
    {Verificar que el sistema utiliza la \gls{API} implementada en el \gls{compiler} actual.} % Descripción
    {OK} % Evaluación
    {NF-API, NF-JS} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Acceder a la definición de la interfaz de \gls{JS} del \gls{compiler}.
        \item Acceder a la definición de la interfaz del \gls{compiler} actual.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{plataformas}
    {El sistema está instalado.} % Precondición
    {El sistema funciona correctamente en todas las plataformas probadas.} % Postcondición
    {Verificar que el sistema funciona en todas las plataformas soportadas por
    el \gls{compiler} actual.} % Descripción
    {OK} % Evaluación
    {NF-chrome, NF-firefox, NF-safari, NF-nodejs} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Acceder el sistema desde Google Chrome 70, Mozilla Firefox 70,
        Safari 10, y Node.js.
        \item Utilizar el sistema en esas plataformas.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{FOSS}
    {\NA} % Precondición
    {El sistema cumple con los requisitos para ser \gls{FOSS}} % Postcondición
    {Verificar que el sistema es \gls{FOSS}.} % Descripción
    {OK} % Evaluación
    {NF-licencia, NF-codigo-publico} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Acceder al repositorio con el código fuente del sistema.
        \item Verificar que el código fuente es público y se distribuye con una licencia \gls{FOSS}.
    \end{enumerate}
\end{testCase}

\begin{testCase}{VET}{velocidad}
    {El sistema está instalado y se tiene una \gls{ISA} cargada} % Precondición
    {El sistema cumple con los requisitos de velocidad} % Postcondición
    {Verificar que el sistema es rápido.} % Descripción
    {OK} % Evaluación
    {NF-velocidad} % Origen
    \begin{enumerate}[leftmargin=*, topsep=0pt, noitemsep] % Procedimiento
        \item Escribir un \gls{program} complejo.
        \item Compilar el \gls{program}.
    \end{enumerate}
\end{testCase}

\begin{landscape}
    \traceabilityTableBig[p]{traceability-rs-vet}{^VET}{^RS}
        {Trazabilidad entre los requisitos de software funcionales y las pruebas de verificación}
\end{landscape}


\FloatBarrier

\subsection{Validación}\label{subsec:validation}

Esta sección contiene las pruebas de validación realizadas. Después de realizar
estas pruebas, se ha realizado una matriz de trazabilidad
(\tableref{traceability-ru-vat}) para verificar que todos los requisitos de
usuario están cubiertos por al menos una prueba de verificación.

\begin{landscape}
    \traceabilityTable[p]{traceability-ru-vat}{^VAT}{^RU\37-}
        {Trazabilidad entre los requisitos de usuario y las pruebas de validación}
\end{landscape}

\section{Evaluación}\label{sec:evaluation}
